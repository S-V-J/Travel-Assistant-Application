version: "3.1"
stories:
  - story: Greet and offer services
    steps:
      - intent: greet
      - action: utter_greet
      - action: action_offer_services
  - story: Plan trip with location and affirm
    steps:
      - intent: inform_location
      - action: action_confirm_location
      - action: utter_ask_confirm_location
      - intent: affirm
      - action: action_provide_weather
      - action: utter_proactive_offer
      - action: utter_offer_more
  - story: Plan trip with location and deny
    steps:
      - intent: inform_location
      - action: action_confirm_location
      - action: utter_ask_confirm_location
      - intent: deny
      - action: utter_ask_new_location
  - story: Deny location and retry
    steps:
      - action: utter_ask_new_location
      - intent: inform_location
      - action: action_confirm_location
      - action: utter_ask_confirm_location
      - intent: affirm
      - action: action_provide_weather
      - action: utter_proactive_offer
      - action: utter_offer_more
  - story: Ask weather directly
    steps:
      - intent: ask_weather
      - action: action_confirm_location
      - action: utter_ask_confirm_location
      - intent: affirm
      - action: action_provide_weather
      - action: utter_proactive_offer
      - action: utter_offer_more
  - story: Ask flights
    steps:
      - intent: ask_flights
      - action: action_confirm_location
      - action: utter_ask_confirm_location
      - intent: affirm
      - action: action_provide_flights
      - action: utter_offer_more
  - story: Ask attractions
    steps:
      - intent: ask_attractions
      - action: action_confirm_location
      - action: utter_ask_confirm_location
      - intent: affirm
      - action: action_provide_attractions
      - action: utter_offer_more
  - story: Ask currency
    steps:
      - intent: ask_currency
      - action: action_provide_currency
      - action: utter_offer_more
  - story: Ask time
    steps:
      - intent: ask_time
      - action: action_confirm_location
      - action: utter_ask_confirm_location
      - intent: affirm
      - action: action_provide_time
      - action: utter_offer_more
  - story: Goodbye
    steps:
      - intent: goodbye
      - action: utter_goodbye
  - story: LLM Fallback
    steps:
      - intent: nlu_fallback
      - action: action_llm_fallback